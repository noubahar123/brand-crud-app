
<div class="brand-bold">
    <h1>Brands</h1>
</div>



<div class="main-flex-board">
    <div class="flex-card-2">
        <app-new-brand (brandName)="getBrandName($event)" />

        <h2>Brand Name: {{myBrand()}}</h2>
    </div>


        
        <div class="flex-card">
            <h2>All Brands</h2>
            @if(loading()){
                <span class="loader"></span>

            }
            @else {
                <ul class="brand-flex-box">
                @for(brand of allBrands(); track brand.id){
                    <div class="brand-flex-card">
                        <h2>{{brand.name}}</h2>
                        <button class="delete-btn" (click)="onDeleteBrand(brand.id)">Delete</button>
                        <button class="edit-btn" (click)="onEditBrand(brand)" >Edit</button>
                    </div>
                    @if(selectedBrandId() === brand.id && screen()){
                        <form [formGroup]="form"  >
                            <label for="name">New Name</label>
                            <input type="name"  name="name" id="name" formControlName="editedName">
                            <button class="edit-btn" type="submit" (click)="onSubmitEditedBrand()">Submit</button>  
                            @if(form.controls.editedName.hasError('required') && 
                            (form.controls.editedName.dirty || form.controls.editedName.touched )){ 
                                <div class="error-template"><p>Enter proper value</p></div>
                            }
                        </form>
            }
            }


            <!-- @if(screen()){
                <form [formGroup]="form"  >
                    <label for="name">New Name</label>
                    <input type="name"  name="name" id="name" formControlName="editedName">
                    <button type="submit" (click)="onSubmitEditedBrand()">Submit</button>
                </form>
            } -->
            </ul>
        }
        </div>
            

    



</div>





